
{% extends 'base.html' %}
{% block content %}
    <style>
        /* Styling for collapsible button */
        .collapsible {
            background-color: #003b7a;
            color: white;
            cursor: pointer;
            padding: 10px 40px; /* Adjust padding for arrow space */
            width: 45%; /* Set width to 40% of parent container */
            border: none;
            text-align: center; /* Center text inside the button */
            outline: none;
            font-size: 24px;
            font-weight: bold;
            display: flex;
            align-items: center;
            justify-content: center; /* Center the title text */
            position: relative; /* Required for positioning the arrow */
            margin: 0 auto; /* Center the button horizontally */
        }

        .collapsible::before {
            content: '\25BC';
            font-size: 24px; /* Increase arrow size */
            color: white;
            position: absolute; /* Position arrow absolutely */
            left: 10px; /* Space from the left edge */
            transition: transform 0.3s ease; /* Smooth transition for arrow rotation */
        }

        .collapsible.active::before {
            content: '\25B2';
            transform: rotate(180deg); /* Rotate arrow when active */
        }

        .content {
            width: 45%; /* Match the button width */
            margin: 0 auto; /* Center the content horizontally */
        }

        .collapsible.active + .content {
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .content img {
            max-width: 100%;
            height: auto; /* Ensures the entire image is displayed */
            display: block; /* Prevents inline spacing issues */
            margin: 10px auto; /* Centers the image horizontally */
        }

        /* Title container styling */
        .title-container {
              margin-top: 55px;
              width: 100%; /* Ensure container spans full width */
              display: flex;
              flex-direction: column;
              align-items: center; /* Center all children */
        }
    </style>

    <div class="title-container">
        {% for source in source_object %}
        <button class="collapsible">
            <!-- Centered Title with bold font and hover effect -->
            <span>{{ source.title }}</span>
        </button>
        <div class="content">
            <div class="container">
                <div class="row">
                    <div class="col-lg-12">
                        <p>{{ source.text|safe }}</p>
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>

    <script>
        var coll = document.getElementsByClassName("collapsible");
        for (var i = 0; i < coll.length; i++) {
            coll[i].addEventListener("click", function() {
                var content = this.nextElementSibling;
                var activeCollapsibles = document.querySelectorAll(".collapsible.active");

                // Close all other collapsibles
                activeCollapsibles.forEach(function(collapsible) {
                    if (collapsible !== this) {
                        collapsible.classList.remove("active");
                        collapsible.nextElementSibling.style.maxHeight = null;
                    }
                }, this);

                // Toggle the clicked collapsible
                this.classList.toggle("active");
                if (this.classList.contains("active")) {
                    content.style.maxHeight = content.scrollHeight + "px";
                } else {
                    content.style.maxHeight = null;
                }
            });
        }
    </script>
    
{% endblock content %}



{% comment %}
{% extends 'base.html' %}
{% block content %}
    <style>
        details[open] summary .arrow {
            transform: rotate(90deg); /* Rotate the arrow when details are open */
            transition: transform 0.3s ease; /* Smooth transition */
            color: #0a53be;
        }

        summary .arrow {
            transition: transform 0.3s ease; /* Smooth transition for the arrow */
            color: #0a53be;
        }

        /* Add space between the header and the title */
        .title-container {
            margin-top: 55px; /* Adjust the space between the header and the title */
        }

        summary {
            margin: 0;
            padding: 0;
        }

        details {
            margin: 0;
            padding: 0;
        }
    </style>

    <!-- Add space above the first title by using a wrapper div -->
    <div class="title-container">
        {% for source in source_object %}
        <details>
            <summary style="display: flex; align-items: center; justify-content: center;">
                <!-- Arrow icon with a class for easy targeting -->
                <span class="arrow" style="margin-right: 20px; color: blue;">&#129094;</span>
                <!-- Title -->
                <a href="#" style="display: inline-block; vertical-align: middle; font-size: 32px; font-weight: bold; text-decoration: none; color: #003b7a;"
                   onmouseover="this.style.color='rgb(229, 101, 78)'; this.style.textDecoration='underline';"
                   onmouseout="this.style.color='#003b7a'; this.style.textDecoration='none';">
                    {{ source.title }}
                </a>
            </summary>
            <div class="container">
                <div class="row justify-content-center">
                    <div class="col-lg-8">
                        <p class="lead">{{ source.text|safe }}</p>
                    </div>
                </div>
            </div>
        </details>
        {% endfor %}
    </div>
{% endblock content %}

{% endcomment %}
